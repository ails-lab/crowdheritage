<template>
  <!-- tagging-->
  <section id="tagging" class="tagging">
    <!-- title-->
    <div class="container pe-0">
      <div id="scrollPoint" class="title d-flex justify-content-between">
        <span>${record.title}</span>
<!--        <button if.bind="userServices.current" type="button" class="favoriteButton">-->
<!--          <i class.bind="isLiked? 'fa fa-heart' : 'fa fa-heart-o'" aria-hidden="true" click.delegate="likeRecord()"></i>-->
<!--        </button>-->
      </div>
    </div>
    <!-- wraps-->
    <div class="wraps">
      <div class="container">
        <!-- left-->
        <div class="left">
          <!-- img-->
          <div class="img" with.bind="record">
            <!-- Trigger the modal element -->
            <img id="recImg" show.bind="(record.vtype=='IMAGE')" src.bind="record.thumbnail" onError="this.src='/img/assets/img/ui/ic-noimage.png'" click.delegate="openModal()" style.bind="noImageStyle" />
            <!-- The modal element -->
            <div id="myModal" class="modal">
              <!-- Modal Content - Image) -->
              <img class="modal-content" id="modalImg" src.bind="getValidImg(record, record.validImg.original)"
              error.trigger="getPlaceholderImage($event)" click.delegate="closeModal()">
            </div>
            <!-- Here goes the media, besides images -->
            <div id="mediadiv" innerhtml.bind='mediaDiv'></div>
          </div>
          <!-- metadata-->
          <div class="wrap">
            <compose
              if.bind="(campaign.username!='colours-catwalk') && (campaign.username!='garment-type') && (campaign.username!='opera')"
              view="widgets/metadata/meta-music.html" view-model="widgets/metadata/metadata"
              model.bind="{'record': record}">
            </compose>
            <compose if.bind="campaign.username == 'colours-catwalk'" view="widgets/metadata/meta-colours.html"
              view-model="widgets/metadata/metadata" model.bind="{'record': record}">
            </compose>
            <compose if.bind="campaign.username == 'garment-type'" view="widgets/metadata/meta-garment.html"
              view-model="widgets/metadata/metadata" model.bind="{'record': record}">
            </compose>
            <compose if.bind="campaign.username == 'opera'" view="widgets/metadata/meta-opera.html"
              view-model="widgets/metadata/metadata" model.bind="{'record': record}">
            </compose>
          </div>
        </div>
        <!-- right-->
        <div class="right">
          <!-- <div class="fullscreen-button">
            <div class="wrap">
              <a href="javascript:void(0)" click.delegate="toggleFullscreen()"><span class="exit" t="item:exit">Exit
                </span><span t="item:fullscreen">Fullscreen</span> <i class="fa fa-arrows-alt"
                  aria-hidden="true"></i></a>
            </div>
          </div> -->
          <compose view-model="widgets/tagitem/tagitem" if.bind="hasMotivation('Tagging')"
            model.bind="{'campaign': campaign, 'recId': recId, 'motivation': 'Tagging'}">
          </compose>
          <compose view="widgets/tagcomment/tagcomment.html" view-model="widgets/tagitem/tagitem"
            if.bind="hasMotivation('Commenting')" model.bind="{'campaign': campaign, 'recId': recId, 'motivation': 'Commenting'}">
          </compose>
          <compose view="widgets/tagcolor/tagcolor.html" view-model="widgets/tagitem/tagitem"
            if.bind="hasMotivation('ColorTagging')" model.bind="{'campaign': campaign, 'recId': recId, 'motivation': 'ColorTagging'}">
          </compose>
          <compose view="widgets/taggeo/taggeo.html" view-model="widgets/tagitem/tagitem"
            if.bind="hasMotivation('GeoTagging')" model.bind="{'campaign': campaign, 'recId': recId, 'motivation': 'GeoTagging'}">
          </compose>
          <compose view="widgets/tagpoll/tagpoll.html" view-model="widgets/tagitem/tagitem"
            if.bind="hasMotivation('Polling')"
            model.bind="{'campaign': campaign, 'recId': recId, 'colTitle': collectionTitle, 'motivation': 'Polling'}">
          </compose>
          <!-- <div class="wrap next-item-alternative-link">
            <a if.bind="previous.length!=0" class="previous" href="javascript:void(0)" click.delegate="previousItem()"
              t="item:previous-item">PREVIOUS ITEM</a>
            <a class="next" href="javascript:void(0)" click.delegate="nextItem()" t="item:next-item">NEXT ITEM</a>
          </div> -->
          <div class="fullscreen-navigation">
            <a if.bind="previous.length!=0" class="previous" href="javascript:void(0)"
              click.delegate="previousItem()"><i class="fa fa-arrow-left" aria-hidden="true"></i></a>
            <a class="next" href="javascript:void(0)" click.delegate="nextItem()"><i class="fa fa-arrow-right"
                aria-hidden="true"></i></a>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>
