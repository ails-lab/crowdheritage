<template>
  <ai-dialog id="loginPopup">
    <button type="button" class="close" click.trigger="controller.cancel()">
      <span aria-hidden="true">&times;</span>
    </button>

    <h2 t="app:login-header" id="dialogHeader">Sign in to CrowdHeritage</h2>

    <div class="externalLogin">
      <button
        class="facebook"
        type="button"
        click.delegate="authenticate('facebook')"
      >
        <i class="facebook_small"></i>
        <span>Facebook</span>
      </button>
      <button class="email" type="button" click.delegate="scrollEmail()">
        <i class="email_small"></i>
        <span>Email</span>
      </button>
      <button
        class="google"
        type="button"
        click.delegate="authenticate('google')"
      >
        <i class="google_small"></i>
        <span>Google</span>
      </button>

      <div class="footer" t="[prepend]app:login-message-left">
        <a
          t="app:login-message-right"
          href="javascript:void(0)"
          click.delegate="register()"
          >Joining is quick and easy</a
        >.
      </div>
    </div>
    <div class="forgetPasswordDialog">
      <form class="form mt-4 px-5 mx-2">
        <div class="row d-flex justify-content-center">
          <div class="col-md-12 col-sm-12 col-ms-12 col-xs-12">
            <div
              class="form-group"
              data-bind="validationElement: emailUser"
              style="vertical-align: top"
            >
              <label
                class="sr-only"
                for="useremailforget"
                t="app:login-username-placeholder"
                >Email or Username</label
              >
              <input
                type="text"
                class="form-control"
                id="useremailforget"
                placeholder.bind="i18n.tr('app:login-username-placeholder')"
                value.bind="emailForget"
                hasfocus
              />
            </div>
          </div>
        </div>
        <div class="row d-flex justify-content-between mt-4 mb-5">
          <div
            class="col-md-6 col-sm-6 col-ms-6 col-xs-12 d-flex justify-content-start"
          >
            <button
              type="button"
              class="btn btn-light btn-block w-50"
              click.delegate="cancelForgetPassword()"
              t="app:cancel"
            ></button>
          </div>
          <div
            class="col-md-6 col-sm-6 col-ms-6 col-xs-12 d-flex justify-content-end"
          >
            <button
              type="submit"
              class="btn btn-primary btn-block w-50"
              click.delegate="forgetPasswordSubmit()"
              t="app:reset"
            ></button>
          </div>
        </div>
      </form>
    </div>
    <div class="emailLogin">
      <form class="form">
        <div class="col-md-5 col-sm-5 col-ms-5 col-xs-12">
          <div
            class="form-group"
            data-bind="validationElement: emailUser"
            style="vertical-align: top"
          >
            <label
              class="sr-only"
              for="useremail"
              t="app:login-username-placeholder"
              >Email or username</label
            >
            <input
              type="text"
              class="form-control"
              id="useremail"
              placeholder.bind="i18n.tr('app:login-username-placeholder')"
              value.bind="email"
              hasfocus
            />
          </div>
        </div>
        <div class="col-md-5 col-sm-5 col-ms-5 col-xs-12">
          <div class="form-group" style="vertical-align: top">
            <label
              class="sr-only"
              for="userpass"
              t="app:login-password-placeholder"
              >Password</label
            >
            <input
              type="password"
              class="form-control"
              id="userpass"
              placeholder.bind="i18n.tr('app:login-password-placeholder')"
              value.bind="password"
            />
          </div>
        </div>
        <div class="col-md-2 col-sm-2 col-ms-2 col-xs-12">
          <button
            type="submit"
            class="btn btn-primary btn-block"
            click.delegate="signin()"
            style="vertical-align: top"
          >
            <span t="app:login-btn">Login</span>
          </button>
        </div>

        <div class="col-xs-6 px-0 mt-2">
          <button
            type="button"
            class="btn btn-link"
            style="float: left"
            click.delegate="scrollDownEmail()"
          >
            <span t="app:login-message-alt">Login with Facebook or Google</span>
          </button>
        </div>
        <div class="col-xs-6 px-0 mt-2">
          <button
            type="button"
            class="btn btn-link non-underlined"
            style="float: right"
            click.delegate="showForgetPasswordDialog()"
          >
            <span t="app:login-forget-password" class="text-danger dark-red"
              >Forgot Password?</span
            >
          </button>
        </div>
      </form>
    </div>
  </ai-dialog>
</template>
